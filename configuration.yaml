homeassistant:
  # Name of the location where Home Assistant is running
  name: PanterHome
  # Location required to calculate the time the sun rises and sets
  latitude: 51.826632
  longitude: 5.843140
  elevation: 30
  unit_system: metric

  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: Europe/Amsterdam

  customize:
    # scene.all_off:
    #   icon: mdi:candle
    #   friendly_name: "All lights off"
    sensor.light_lux_sensor_2_0:
      friendly_name: "Light Sensor"
    light.hue_lamp_2:
      friendly_name: "sta lamp 2"
    light.hue_lamp_3:
      friendly_name: "sta lamp 1"
    input_boolean.away:
      icon: mdi:home
    scene.table_full_on:
      icon: mdi:brightness-5
    scene.table_on:
      icon: mdi:brightness-6
    
# Discover some devices automatically
# discovery:

http:
  api_password: !secret http_password 

light:
  platform: hue
  host: 192.168.2.1

recorder:
  purge_days: 4

updater:

# Enables the frontend
frontend:

# Enables support for tracking state changes over time.
history:

# Allows you to issue voice commands from the frontend
# conversation:

# Track the sun
sun:

# View all events in a logbook
logbook:

# My honeywell thermostat.
# climate: !include configs/honeywell.yaml

mysensors: !include configs/mysensors.yaml

scene powerview:
  platform: hunterdouglas_powerview
  address: 192.168.2.4

input_boolean:
  away:
    name: Away
    initial: off

shell_command:
  update_restart: bash /home/pi/.homeassistant/update_restart.sh

scene:
  - name: nachtlamp bo
    entities:
      light.nachtlamp_bo:
        state: on
        xy_color: [0.667,0.319]
        brightness: 50
  - name: table on
    entities:
      light.eettafel_1:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 150
      light.eettafel_2:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 150
  - name: table full on
    entities:
      light.eettafel_1:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 254
      light.eettafel_2:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 254
  - name: living on
    entities:
      light.hue_lamp_2:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 97
      light.hue_lamp_3:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 71
  - name: bar on
    entities:
      light.bar_lamp:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 150
  - name: hoeklamp on
    entities:
      light.hoeklamp:
        state: on
        xy_color: [0.5134,0.4149]
        brightness: 150  
  - name: tv light on
    entities:
      light.tv_lamp:
        state: on
        xy_color: [0.5144,0.4148]
        brightness: 25
  - name: all off
    icon: mdi:candle
    friendly_name: "All lights off"
    entities:
      group.living: off
      group.dining: off
      group.bar: off

script:
  lights_on_sunset:
    alias: Turn lights on if sun has set
    sequence:
      - condition: state
        entity_id: sun.sun
        state: 'below_horizon'
      - service: scene.turn_on
        entity_id: 
          - scene.bar_on
          - scene.hoeklamp_on
          - scene.tv_light_on
  update_restart:
    sequence:
      - service: shell_command.update_restart
        

automation: !include configs/automation.yaml

# device_tracker:
#     platform: nmap_tracker
#     hosts: 192.168.2.7-8
#     home_interval: 10
#     interval_seconds: 60

notify:
  platform: telegram
  api_key: !secret telegram_api_key
  chat_id: !secret telegram_chat_id

device_tracker:
  - platform: ddwrt
    host: !secret ddwrt_host
    username: !secret ddwrt_user_name
    password: !secret ddwrt_password
    consider_home: 120
    interval_seconds: 20

group: !include configs/groups.yaml
